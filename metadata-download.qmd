---
title: "Metadata Explorer"
editor: visual
format: html
runtime: shiny
---

```{r, echo=FALSE}
library(tidyverse)
library(shiny)
library(sack2)
library(DT)
# load csv file
zz.alexsa.facets <- read_csv("metadata-alexsa-subscales.csv") %>%
  .[["subscale"]]

suppressWarnings({
  suppressMessages({
    metadata.xvars <- readxl::read_excel("metadata-xvars.xlsx", guess_max = 1e6, col_types = "text")
  })
})
  
  metadata.xvars <- metadata.xvars %>% 
    mutate(alexsa_facet = factor(alexsa_facet,
                                 levels = zz.alexsa.facets))



# UI
ui <- fluidPage(
  DTOutput("table") # display interactive table
)

# server
server <- function(input, output, session) {
  # render the table with server-side processing
  output$table <- renderDT({datatable(metadata.xvars,
                                      options = list (pageLength = 10,
                                      server = TRUE, # server-side processing
                                      scrollX = TRUE, # enables horizontal scrolling
                                                     searchHighlight = TRUE),
                                      filter = "top")
  }, server = TRUE) # activate server-side processing
}

shinyApp(ui, server)
```

### Download Full Metadata

Here is a [link \*\*\*](https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf)to the metadata-xvars.xlsx for the creation of screeners â€“ to be used in tandem with ABCD data. A team of three Pelham Lab staff sorted and reviewed all of the variables in the ABCD dataset. Each variable sorted into the "item" type faced review by two other Pelham Lab staff.
